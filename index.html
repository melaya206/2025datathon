<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ctrl+Alt+Elite - Seattle Datathon Analysis</title>
    <!-- Link to the external CSS file -->
    <link rel="stylesheet" href="style.css">
    <!-- Link to the external libraries -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-3.0.1.min.js" charset="utf-8"></script>
    <!-- Leaflet CSS and JS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <!-- Leaflet MarkerCluster Plugin -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
    <!-- Leaflet Heat Plugin -->
    <script src="https://unpkg.com/leaflet.heat@0.2.0/dist/leaflet-heat.js"></script>
    <!-- Choices.js for searchable dropdown -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js@9.0.1/public/assets/styles/choices.min.css">
    <script src="https://cdn.jsdelivr.net/npm/choices.js@9.0.1/public/assets/scripts/choices.min.js"></script>
    
    <!-- Override Choices.js styles -->
    <style>
        /* Force hover styles to work */
        .choices__list--dropdown .choices__item--selectable:hover {
            background-color: #f0f7ff !important;
        }
        
        /* Force highlighted item styles */
        .choices__list--dropdown .choices__item--selectable.is-highlighted {
            background-color: #e1efff !important;
        }
        
        /* Ensure vertical centering */
        .choices__list--dropdown .choices__item {
            display: flex !important;
            align-items: center !important;
            padding: 10px 15px !important;
        }
        
        /* Remove "Press to select" text */
        .choices__list--dropdown .choices__item--selectable:after {
            content: none !important;
            display: none !important;
        }
        
        /* Fix hover effect to work immediately */
        .choices__list--dropdown .choices__item--selectable {
            transition: none !important; /* Remove transition to make hover immediate */
        }
        
        /* Apply hover styles to all items in the dropdown */
        .choices.is-open .choices__list--dropdown .choices__item--selectable:hover {
            background-color: #f0f7ff !important;
        }
        
        /* Force hover styles with JavaScript */
        .choices__item--hover {
            background-color: #f0f7ff !important;
        }
    </style>
    <!-- Link to the external JavaScript file -->
    <script src="scripts/searchable-dropdown.js"></script>
    <script src="scripts/load-data.js"></script>
    <script src="scripts/distribution-by-dept.js"></script>
    <script src="scripts/distribution-by-area.js"></script>
    
    <!-- Custom styles to fix z-index issues with Choices.js -->
    <style>
        /* Force header to be above everything */
        body > header {
            position: relative;
            z-index: 99999 !important; /* Extremely high z-index */
        }
        
        /* Force navigation to be below header but above everything else */
        .page-navigation {
            position: sticky;
            z-index: 99998 !important; /* Very high z-index */
        }
        
        /* Force Choices.js dropdown to be below header and navigation */
        .choices__list--dropdown {
            z-index: 5000 !important; /* Lower than header and navigation */
        }
        
        /* Fix for Choices.js dropdown appearing above header */
        .choices {
            position: relative;
            z-index: 5000 !important; /* Lower than header and navigation */
        }
        
        /* Force map to be below dropdown */
        #map, .map-container, .leaflet-container {
            z-index: 1000 !important; /* Lower than dropdown */
        }
        
        /* Ensure all other content is below header */
        main, section, .visualization-container {
            z-index: 1 !important;
        }
    </style>
</head>
<body>
    <!--header>
        <div class="container">
            <h1 class="header-title">Seattle Customer Service Requests Analysis</h1>
            <h3 class="header-subtitle">DubsTech Datathon 2025</h3>
            <button class="github-button" onclick="window.open('https://github.com/melaya206/2025datathon', '_blank')">View on GitHub</button>
        </div>
    </header-->

    <nav class="page-navigation">
        <div class="container">
            <img class="logo" src="resources/ctrl+alt+elite.png" alt="Logo">
            <button class="nav-button" onclick="document.getElementById('introduction').scrollIntoView({behavior: 'smooth'})">Introduction</button>
            <button class="nav-button" onclick="document.getElementById('service-distribution').scrollIntoView({behavior: 'smooth'})">Service Distribution</button>
            <button class="nav-button" onclick="document.getElementById('geographical-distribution').scrollIntoView({behavior: 'smooth'})">Geographical Distribution</button>
            <button class="nav-button" onclick="document.getElementById('meet-the-team').scrollIntoView({behavior: 'smooth'})">Meet the Team</button>
        </div>
    </nav>

    <div class="container">
        <!-- Introduction Section -->
        <section id="introduction">
            <h2>Introduction</h2>
            <div class="process-description">
                <img src="resources/Seattle-Skyline.jpg" alt="Seattle" style="width: 100%; height: auto;">
                <p>We began by cleaning the original dataset in R Studio, removing duplicates and incomplete service requests to ensure data quality. For visualization, we built this interactive webpage using HTML, CSS, and JavaScript. Tableau was used to create dynamic dashboards, while Leaflet enabled us to map service requests geographically across Seattle. Additionally, we leveraged Plotly to develop 3D visualizations, highlighting trends by department and council district.</p>
                <center>
                    <h3>Tools Utilized</h3>
                    <img class="tool-logo" src="resources/logos/js.png" alt="JavaScript Logo">
                    <img class="tool-logo" src="resources/logos/Tableau.png" alt="Tableau Logo">
                    <img class="tool-logo" src="resources/logos/RStudio.png" alt="RStudio Logo">
                    <img class="tool-logo" src="resources/logos/Plotly.png" alt="Plotly Logo">
                    <img class="tool-logo" src="resources/logos/Leaflet.png" alt="Leaflet Logo">
                </center>
            </div>
        </section>
        
        <!-- Service Request Distribution Section -->
        <section id="service-distribution">
            <h2>Service Request Distribution</h2>
            
            <div class="visualization-container">
                <div class="visualization-title">Department & District Distribution</div>
                <div class="visualization-description">Heatmap showing the distribution of service requests across city departments and council districts</div>
                <div id="barChart"></div>
                <p>Analysis of service requests by department and council district.</p>
            </div>
        </section>

        <!-- Geographical Distribution Section -->
        <section id="geographical-distribution">
            <h2>Geographical Distribution</h2>
            
            <div class="visualization-container">
                <div class="visualization-title">Geographical Distribution of Service Requests</div>
                <div class="visualization-description">Heatmap showing the distribution of service requests across Seattle</div>
                <div class="filter-container">
                    <label for="request-neighborhood-filter">Filter by neighborhood: </label>
                    <select id="request-neighborhood-filter" class="filter-dropdown">
                        <option value="ALL.csv">ALL NEIGHBORHOODS</option>
                        <option value="BITTER_LAKE.csv">BITTER LAKE</option>
                        <option value="NORTH_BEACON_HILL.csv">NORTH BEACON HILL</option>
                        <option value="INDUSTRIAL_DISTRICT.csv">INDUSTRIAL DISTRICT</option>
                        <option value="FIRST_HILL.csv">FIRST HILL</option>
                        <option value="ROOSEVELT.csv">ROOSEVELT</option>
                        <option value="WINDERMERE.csv">WINDERMERE</option>
                        <option value="COLUMBIA_CITY.csv">COLUMBIA CITY</option>
                        <option value="PINEHURST.csv">PINEHURST</option>
                        <option value="INTERBAY.csv">INTERBAY</option>
                        <option value="GATEWOOD.csv">GATEWOOD</option>
                        <option value="RAINIER_BEACH.csv">RAINIER BEACH</option>
                        <option value="EAST_QUEEN_ANNE.csv">EAST QUEEN ANNE</option>
                        <option value="LOWER_QUEEN_ANNE.csv">LOWER QUEEN ANNE</option>
                        <option value="HALLER_LAKE.csv">HALLER LAKE</option>
                        <option value="SOUTH_LAKE_UNION.csv">SOUTH LAKE UNION</option>
                        <option value="MID-BEACON_HILL.csv">MID-BEACON HILL</option>
                        <option value="BRIGHTON.csv">BRIGHTON</option>
                        <option value="UNIVERSITY_DISTRICT.csv">UNIVERSITY DISTRICT</option>
                        <option value="NORTH_QUEEN_ANNE.csv">NORTH QUEEN ANNE</option>
                        <option value="MEADOWBROOK.csv">MEADOWBROOK</option>
                        <option value="VICTORY_HEIGHTS.csv">VICTORY HEIGHTS</option>
                        <option value="ATLANTIC.csv">ATLANTIC</option>
                        <option value="NORTH_ADMIRAL.csv">NORTH ADMIRAL</option>
                        <option value="FAUNTLEROY.csv">FAUNTLEROY</option>
                        <option value="WEDGWOOD.csv">WEDGWOOD</option>
                        <option value="CENTRAL_BUSINESS_DISTRICT.csv">CENTRAL BUSINESS DISTRICT</option>
                        <option value="GREENWOOD.csv">GREENWOOD</option>
                        <option value="MANN.csv">MANN</option>
                        <option value="SOUTHEAST_MAGNOLIA.csv">SOUTHEAST MAGNOLIA</option>
                        <option value="ADAMS.csv">ADAMS</option>
                        <option value="FAIRMOUNT_PARK.csv">FAIRMOUNT PARK</option>
                        <option value="HARBOR_ISLAND.csv">HARBOR ISLAND</option>
                        <option value="MATTHEWS_BEACH.csv">MATTHEWS BEACH</option>
                        <option value="BROADWAY.csv">BROADWAY</option>
                        <option value="STEVENS.csv">STEVENS</option>
                        <option value="NORTH_COLLEGE_PARK.csv">NORTH COLLEGE PARK</option>
                        <option value="NORTH_DELRIDGE.csv">NORTH DELRIDGE</option>
                        <option value="MOUNT_BAKER.csv">MOUNT BAKER</option>
                        <option value="WALLINGFORD.csv">WALLINGFORD</option>
                        <option value="MADISON_PARK.csv">MADISON PARK</option>
                        <option value="HIGHLAND_PARK.csv">HIGHLAND PARK</option>
                        <option value="FREMONT.csv">FREMONT</option>
                        <option value="BELLTOWN.csv">BELLTOWN</option>
                        <option value="WEST_QUEEN_ANNE.csv">WEST QUEEN ANNE</option>
                        <option value="SEWARD_PARK.csv">SEWARD PARK</option>
                        <option value="MAPLE_LEAF.csv">MAPLE LEAF</option>
                        <option value="GREEN_LAKE.csv">GREEN LAKE</option>
                        <option value="DUNLAP.csv">DUNLAP</option>
                        <option value="CEDAR_PARK.csv">CEDAR PARK</option>
                        <option value="PIONEER_SQUARE.csv">PIONEER SQUARE</option>
                        <option value="MINOR.csv">MINOR</option>
                        <option value="RAVENNA.csv">RAVENNA</option>
                        <option value="BROADVIEW.csv">BROADVIEW</option>
                        <option value="SOUTH_BEACON_HILL.csv">SOUTH BEACON HILL</option>
                        <option value="LOYAL_HEIGHTS.csv">LOYAL HEIGHTS</option>
                        <option value="LESCHI.csv">LESCHI</option>
                        <option value="MONTLAKE.csv">MONTLAKE</option>
                        <option value="WHITTIER_HEIGHTS.csv">WHITTIER HEIGHTS</option>
                        <option value="MADRONA.csv">MADRONA</option>
                        <option value="WEST_WOODLAND.csv">WEST WOODLAND</option>
                        <option value="SUNSET_HILL.csv">SUNSET HILL</option>
                        <option value="HIGH_POINT.csv">HIGH POINT</option>
                        <option value="BRYANT.csv">BRYANT</option>
                        <option value="OLYMPIC_HILLS.csv">OLYMPIC HILLS</option>
                        <option value="CROWN_HILL.csv">CROWN HILL</option>
                        <option value="PHINNEY_RIDGE.csv">PHINNEY RIDGE</option>
                        <option value="GEORGETOWN.csv">GEORGETOWN</option>
                        <option value="LAWTON_PARK.csv">LAWTON PARK</option>
                        <option value="RIVERVIEW.csv">RIVERVIEW</option>
                        <option value="LAURELHURST.csv">LAURELHURST</option>
                        <option value="PIKE-MARKET.csv">PIKE-MARKET</option>
                        <option value="PORTAGE_BAY.csv">PORTAGE BAY</option>
                        <option value="EASTLAKE.csv">EASTLAKE</option>
                        <option value="VIEW_RIDGE.csv">VIEW RIDGE</option>
                        <option value="BRIARCLIFF.csv">BRIARCLIFF</option>
                        <option value="SOUTH_PARK.csv">SOUTH PARK</option>
                        <option value="SAND_POINT.csv">SAND POINT</option>
                        <option value="NORTH_BEACH/BLUE_RIDGE.csv">NORTH BEACH/BLUE RIDGE</option>
                        <option value="SEAVIEW.csv">SEAVIEW</option>
                        <option value="INTERNATIONAL_DISTRICT.csv">INTERNATIONAL DISTRICT</option>
                        <option value="YESLER_TERRACE.csv">YESLER TERRACE</option>
                        <option value="SOUTH_DELRIDGE.csv">SOUTH DELRIDGE</option>
                        <option value="ALKI.csv">ALKI</option>
                        <option value="HOLLY_PARK.csv">HOLLY PARK</option>
                        <option value="ARBOR_HEIGHTS.csv">ARBOR HEIGHTS</option>
                        <option value="HARRISON/DENNY-BLAINE.csv">HARRISON/DENNY-BLAINE</option>
                        <option value="RAINIER_VIEW.csv">RAINIER VIEW</option>
                        <option value="ROXHILL.csv">ROXHILL</option>
                        <option value="GENESEE.csv">GENESEE</option>
                        <option value="WESTLAKE.csv">WESTLAKE</option>
                        <option value="OOO.csv">OOO</option>
                    </select>
                </div>
                
                <div class="map-container" style="position: relative; height: 500px; width: 100%;">
                    <div id="map-loading-indicator" class="loading-indicator" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000; background: rgba(255,255,255,0.8); display: flex; align-items: center; justify-content: center;">
                        Initializing map...
                    </div>
                    <div id="map" style="height: 100%; width: 100%; z-index: 1;"></div>
                </div>
                <div class="visualization-note">Note: Clicking on a marker will display the details of the service request</div>
                <p>Identifying areas with the highest service requests (Neighborhoods, Council Districts, ZIP Codes).</p>
            </div>
        </section>

        <!-- Meet the Team Section -->
        <section id="meet-the-team" class="team-section">
            <h2 style="margin-bottom: 50px;">Meet the Team</h2>
            <div class="team-container">
                <img src="resources/ctrl+alt+elite-alt.png" alt="Logo" class="logo-big">
                <div class="team-member">
                    <img src="resources/headshots/melaya-madrid.png" alt="Melaya Madrid" class="team-member-image">
                    <h3>Melaya Madrid</h3>
                    <p class="role">Informatics Undergraduate</p>
                    <p>Focused on data analysis and visualization</p>
                    <div class="contact">
                        <a href="mailto:lamamel@uw.edu">Email</a> | 
                        <a href="https://www.linkedin.com/in/melaya/" target="_blank">LinkedIn</a>
                    </div>
                </div>

                <div class="team-member">
                    <img src="resources/headshots/isabel-motta.png" alt="Isabel Motta" class="team-member-image">
                    <h3>Isabel Motta</h3>
                    <p class="role">Psychology Undergraduate</p>
                    <p>Focused on data cleaning and statistical analysis</p>
                    <div class="contact">
                        <a href="mailto:imotta@uw.edu">Email</a> | 
                        <a href="https://linkedin.com/in/" target="_blank">LinkedIn</a>
                    </div>
                </div>
                
                <div class="team-member">
                    <img src="resources/headshots/kyler-tran.png" alt="Kyler Tran" class="team-member-image">
                    <h3>Kyler Tran</h3>
                    <p class="role">Infrastructure Engineer</p>
                    <p>Full-stack developer with expertise in data visualization</p>
                    <div class="contact">
                        <a href="mailto:contact@kylerzinbox.com">Email</a> | 
                        <a href="https://www.linkedin.com/in/kyler-tran/" target="_blank">LinkedIn</a> |
                        <a href="https://kylertran.com" target="_blank">Portfolio</a>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <footer>
        <div class="container">
            <p class="copyright"> Ctrl+Alt+Elite 2025. All rights reserved.</p>
        </div>
    </footer>

    <!-- Initialize Choices.js -->
    <script>
        // Initialize Choices.js when the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            const dropdown = document.getElementById('request-type-filter');
            if (dropdown) {
                try {
                    const choices = new Choices(dropdown, {
                        searchEnabled: true,
                        searchPlaceholderValue: 'Search request types...',
                        itemSelectText: '',
                        position: 'bottom'
                    });
                    console.log('Choices.js initialized successfully');
                } catch (error) {
                    console.error('Error initializing Choices.js:', error);
                }
            }
        });
    </script>
</body>
</html>
